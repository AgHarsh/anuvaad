swagger: '2.0'
info:
  title: Anuvaad Fileupload Api
  version: 1.0.0
host: auth.anuvaad.org
basePath: /anuvaad/v1/
schemes:
  - https
produces:
  - application/json
  - file
securityDefinitions:
  AuthToken:
    type: apiKey
    name: Authorization
    in: header
    description: >
      For accessing the API a valid User token must be passed in all the queries
      in the 'Authorization' header.

      A valid User token is generated by the login API and returned as response.
      The following syntax must be used 

      in the 'Authorization' header

      Bearer wwwwwwww-kkkk-yyyy-xxxx-zzzzzzzzzzzz
security:
  - AuthToken: []
paths:
  /upload:
    post:
      security: 
      - AuthToken: []
      summary: Uploads a file.
      consumes:
         - multipart/form-data
      tags:
        - File
      parameters:
         - in: formData
           name: file
           type: file
           description: The file to upload. Accepted file type - docx, image(jpeg, jpg, png), pdf, txt
      responses:
        '200':
          description: request successful
          schema:
            $ref: '#/definitions/status'
          examples:
            application/json:
              ok: true
              http:
                status: 200
              why: 'request successfull'
              data: 'filename'
        '400':
          description: bad request
          schema:
            $ref: '#/definitions/status'
  /download:
    get:
      summary: Download a file
      tags:
        - File
      parameters:
        - in: path
          name: filename
          required: true
          description: Filename to be downloaded
          type: string
      responses:
        '200':
          description: request successful
        '400':
          description: bad request
          schema:
            $ref: '#/definitions/status'
    
definitions:
  http:
    type: object
    properties:
      status:
        type: number
  status:
    type: object
    properties:
      ok:
        type: boolean
        description: true or false indicate request outcome
      http:
        $ref: '#/definitions/http'
      why:
        type: string
        description: status message reason